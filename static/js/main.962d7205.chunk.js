(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1q4dn",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__32MYE"}},14:function(e,t,a){e.exports={Button:"Button_Button__jQhph"}},15:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3987X",Modal:"Modal_Modal__3HZNf"}},29:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__BO4BD"}},35:function(e,t,a){},36:function(e,t,a){},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1zem8",SearchForm:"Searchbar_SearchForm__ZnKdc",SearchFormButton:"Searchbar_SearchFormButton__lqg20",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__tze4r",SearchFormInput:"Searchbar_SearchFormInput__1TwRM"}},85:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(5),o=a.n(r),s=(a(35),a(16)),l=a(4),i=(a(36),a(8)),u=a(30),m=a(26),j=a.n(m),b=a(27),h=a.n(b),d="https://pixabay.com/api/",O="22443315-0655a572bf532c2d4a9d9c050";var g={fetchPixData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.search,a=void 0===t?"":t,c=e.page,n=void 0===c?1:c;return h.a.get("".concat(d,"?q=").concat(a,"&page=").concat(n,"&key=").concat(O,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))}},f=a(6),p=a.n(f),S=a(1);function x(e){var t=e.onSubmit,a=Object(c.useState)(""),n=Object(l.a)(a,2),r=n[0],o=n[1];return Object(S.jsx)("header",{className:p.a.Searchbar,children:Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):i.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441!",{position:i.b.POSITION.TOP_LEFT})},className:p.a.SearchForm,children:[Object(S.jsx)("button",{type:"submit",className:p.a.SearchFormButton,children:Object(S.jsx)("span",{className:p.a.SearchFormButtonLabel,children:"Search"})}),Object(S.jsx)("input",{className:p.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}var _=a(17),v=a(28),I=a.n(v),y=a(29),F=a.n(y),w=a(13),M=a.n(w);function N(e){var t=e.largeImageURL,a=e.webformatURL,c=e.tags,n=e.imgPastToModal;return Object(S.jsx)("li",{className:M.a.ImageGalleryItem,onClick:function(){return n({largeImageURL:t,tags:c})},children:Object(S.jsx)("img",{src:a,alt:c,className:M.a.ImageGalleryItemImage})})}function B(e){var t=e.searchRequest,a=e.imgPastToModal;return Object(S.jsx)("ul",{className:F.a.ImageGallery,children:t.map((function(e){return Object(c.createElement)(N,Object(_.a)(Object(_.a)({},e),{},{imgPastToModal:a,key:I.a.generate()}))}))})}var L=a(14),k=a.n(L);function C(e){var t=e.LoadMore;return(0,e.scroll)(),Object(S.jsxs)("button",{type:"button",name:"page",onClick:t,className:k.a.Button,children:[Object(S.jsx)("span",{className:k.a.styleBtn,children:"Load more"})," "]})}var G=a(15),T=a.n(G),E=document.querySelector("#modal-root");function P(e){var t=e.onClose,a=e.children;Object(c.useEffect)((function(){return console.log("Mount"),window.addEventListener("keydown",n),function(){console.log("unmount"),window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(S.jsx)("div",{className:T.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(S.jsx)("div",{className:T.a.Modal,children:a})}),E)}Object(u.injectStyle)();var R=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(1),o=Object(l.a)(r,2),u=o[0],m=o[1],b=Object(c.useState)(""),h=Object(l.a)(b,2),d=h[0],O=h[1],f=Object(c.useState)(!1),p=Object(l.a)(f,2),_=p[0],v=p[1],I=Object(c.useState)(null),y=Object(l.a)(I,2),F=y[0],w=y[1],M=Object(c.useState)(!1),N=Object(l.a)(M,2),L=N[0],k=N[1],G=Object(c.useState)(!1),T=Object(l.a)(G,2),E=T[0],R=T[1],q=Object(c.useState)(""),D=Object(l.a)(q,2),U=D[0],z=D[1];Object(c.useEffect)((function(){v(!0),g.fetchPixData({search:d,page:u}).then((function(e){n([].concat(Object(s.a)(a),Object(s.a)(e))),e.length<1?k(!0):k(!1)})).catch((function(e){return w(e.message)})).finally((function(){return v(!1)}))}),[u,d]);var H=function(){R(!E)},J=function(e){z(e),H()},Z=U.largeImageURL,K=U.tags,Q=a.length>0&&a.length>11&&!_;return Object(S.jsxs)("div",{className:"container",children:[E&&Object(S.jsxs)(P,{onClose:H,imgPastToModal:J,children:[U&&Object(S.jsx)("img",{src:Z,alt:K}),Object(S.jsx)("p",{children:K}),Object(S.jsx)("button",{type:"button",onClick:H,children:"Close"})]}),Object(S.jsx)(x,{onSubmit:function(e){O(e),m(1),n([]),w(null)}}),Object(S.jsx)(B,{searchRequest:a,imgPastToModal:J}),F&&Object(S.jsx)("h1",{children:"\u041e\u0448\u0438\u0431\u043a\u0430!!!"}),L&&Object(S.jsx)("h1",{children:"\u041a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u043f\u043e \u0412\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!"}),_&&Object(S.jsx)("div",{className:"Spiner",children:Object(S.jsx)(j.a,{type:"Circles",color:"#00BFFF",height:100,width:100,timeout:3e3})}),Q&&Object(S.jsx)(C,{LoadMore:function(){m(u+1)},scroll:function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}}),Object(S.jsx)(i.a,{autoClose:3e3})]})};o.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(R,{})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.962d7205.chunk.js.map