{"version":3,"sources":["components/Gallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/Gallery/ImageGallery/ImageGallery.module.css","utils/pixApi.js","components/Searchbar/Searchbar.jsx","components/Gallery/ImageGalleryItem/ImageGalleryItem.jsx","components/Gallery/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","URL","KEY","a","searchRequest","page","axios","get","response","data","hits","fetchPixData","Searchbar","state","pixabeyToSearch","handlSearchChange","event","setState","currentTarget","value","toLowerCase","handleSabmit","preventDefault","trim","props","onSubmit","toast","error","position","POSITION","TOP_LEFT","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","largeImageURL","webformatURL","tags","imgPastToModal","onClick","src","alt","ImageGalleryItemImage","ImageGallery","map","ImageCard","key","shortid","generate","Button","LoadMore","scroll","name","styleBtn","modalRoot","document","querySelector","Modal","hendleKeyDown","e","code","onClose","hendleClickBackdrope","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","injectStyle","App","pixData","isLoaded","isTherePix","showModal","imgInModal","options","pixApi","then","pix","prevState","length","catch","finally","console","log","togleModal","img","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","shouldRenderLoadMoreButton","color","height","width","timeout","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3144dd14.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1q4dn\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__32MYE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__jQhph\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3987X\",\"Modal\":\"Modal_Modal__3HZNf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__BO4BD\"};","import axios from 'axios';\r\n\r\nconst URL = 'https://pixabay.com/api/';\r\nconst KEY = '22443315-0655a572bf532c2d4a9d9c050';\r\n\r\nasync function fetchPixData({ searchRequest = '', page = 1 }) {\r\n  // console.log({ searchRequest, page });\r\n  const response = await axios.get(\r\n    `${URL}?q=${searchRequest}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n  return response.data.hits;\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { fetchPixData };\r\n\r\n// function fetchPixData({ searchRequest = '', page = 1 }) {\r\n//   console.log({ searchRequest, page });\r\n//   return axios\r\n//     .get(\r\n//       `${URL}?q=${searchRequest}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n//     )\r\n//     .then(response => response.data.hits);\r\n// }\r\n\r\n// // eslint-disable-next-line import/no-anonymous-default-export\r\n// export default { fetchPixData };\r\n","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    pixabeyToSearch: '',\r\n  };\r\n  handlSearchChange = event => {\r\n    // console.log('handlSearchChange', event.currentTarget.value);\r\n    this.setState({\r\n      pixabeyToSearch: event.currentTarget.value.toLowerCase(),\r\n    });\r\n  };\r\n\r\n  handleSabmit = event => {\r\n    event.preventDefault();\r\n    \r\n    // console.log('onSubmit', this.state.pixabeyToSearch);\r\n      if (this.state.pixabeyToSearch.trim() === '') {\r\n        toast.error('Введите Ваш запрос!', {\r\n          position: toast.POSITION.TOP_LEFT,\r\n        });\r\n        return;\r\n      }\r\n    this.props.onSubmit(this.state.pixabeyToSearch);\r\n    this.setState({ pixabeyToSearch: '' });\r\n  };\r\n  \r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={this.handleSabmit} className={s.SearchForm}>\r\n          <button\r\n            type=\"submit\"\r\n            className={s.SearchFormButton}\r\n            // onClick={console.log('BTN - search')}\r\n          >\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.pixabeyToSearch}\r\n            onChange={this.handlSearchChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({largeImageURL,webformatURL, tags, imgPastToModal}) {\r\n  // console.log({ ...prop });\r\n  // console.log('modal', modal);\r\n  // console.log({ largeImageURL, tags });\r\n  // console.log('imgPastToModal', imgPastToModal);\r\n    return (\r\n      <li className={s.ImageGalleryItem} onClick={()=> imgPastToModal({ largeImageURL, tags })}>\r\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\r\n      </li>\r\n    )\r\n    \r\n}","import React from 'react';\r\n\r\nimport shortid from 'shortid';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nexport default function ImageGallery({ searchRequest, imgPastToModal }){\r\n// console.log('imgPastToModal', imgPastToModal);\r\n  // console.log('ImgGal', { searchRequest });\r\n    return (\r\n          <ul className={s.ImageGallery}>\r\n            {searchRequest.map(ImageCard => (\r\n              <ImageGalleryItem {...ImageCard} imgPastToModal={imgPastToModal} key={shortid.generate()} />\r\n            ))}\r\n          </ul>\r\n    \r\n    );\r\n  }\r\n\r\n\r\n  \r\n////////////////modal={this.imgPastToModal} imgPastToModal={this.imgPastToModal}\r\n// ОТСЛЕЖИВАТЬ\r\n// id - уникальный идентификатор\r\n// webformatURL - ссылка на маленькое изображение для списка карточек\r\n// largeImageURL\r\n///////////","// import { Component } from \"react\";\r\nimport s from './Button.module.css';\r\n\r\nexport default function Button({ LoadMore, scroll }) {\r\n   scroll()\r\n  return (\r\n    <button type=\"button\" name=\"page\" onClick={LoadMore} className={s.Button}>\r\n      <span className={s.styleBtn}>Load more</span>{' '}\r\n    </button>\r\n  );\r\n}\r\n\r\n// export default class Button extends Component {\r\n\r\n//   render() {\r\n//     window.scrollTo({\r\n//       top: document.documentElement.scrollHeight,\r\n//       behavior: 'smooth',\r\n//     });\r\n//     return (\r\n\r\n//       <button type=\"button\" name=\"page\" onClick={this.props.LoadMore} className={s.Button}><span className={s.styleBtn}>Load more</span> </button>\r\n\r\n//     )\r\n\r\n//   }\r\n// }\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    // console.log('componentDidMount');\r\n    window.addEventListener('keydown', this.hendleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // console.log('componentWillUnmount');\r\n    window.removeEventListener('keydown', this.hendleKeyDown);\r\n  }\r\n\r\n  hendleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      // console.log('Turn On Escape');\r\n      this.props.onClose();\r\n    }\r\n    };\r\n    \r\n    hendleClickBackdrope = e => {\r\n        if (e.target === e.currentTarget) {\r\n        // console.log('click backgrope');\r\n         this.props.onClose();\r\n        }\r\n    }\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.hendleClickBackdrope}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import '../App/App.css';\nimport React, { Component } from 'react';\n\nimport { ToastContainer } from 'react-toastify';\nimport { injectStyle } from 'react-toastify/dist/inject-style';\nimport Loader from 'react-loader-spinner';\n\nimport pixApi from '../../utils/pixApi';\nimport Searchbar from '../Searchbar';\nimport ImageGallery from '../Gallery/ImageGallery';\nimport Button from '../Button';\nimport Modal from '../Modal';\n\n//////////////\ninjectStyle();\n//////////////\n\nclass App extends Component {\n  state = {\n    pixData: [],\n    page: 1,\n    searchRequest: '',\n    isLoaded: false,\n    error: null,\n    isTherePix: false,\n    showModal: false,\n    imgInModal: '',\n  };\n  //look for the ansver from API if 0 - then 'ничего не нашли' кнопка ЛОАД-МОРЕ НЕ рендерить. Если пустая строка, то Рандомн картинки\n  componentDidMount() {\n    this.fetchPixData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchRequest !== this.state.searchRequest) {\n      this.fetchPixData();\n    }\n  }\n\n  fetchPixData = () => {\n    const { searchRequest, page } = this.state;\n    const options = { searchRequest, page };\n\n    this.setState({ isLoaded: true });\n\n    pixApi\n      .fetchPixData(options)\n      .then(pix => {\n        this.setState(prevState => ({\n          pixData: [...prevState.pixData, ...pix],\n          page: prevState.page + 1,\n        }));\n        // console.log(pix.length);\n        pix.length < 1 ? this.setState({ isTherePix: true }) : this.setState({ isTherePix: false });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoaded: false }));\n  };\n\n  onSubmit = searchRequest => {\n    console.log('App-', searchRequest);\n    this.setState({\n      searchRequest,\n      page: 1,\n      pixData: [],\n      error: null,\n    });\n    // console.log('this.state -', this.state.searchRequest);\n  };\n\n  togleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  imgPastToModal = img => {\n    // const { largeImageURL, tags } = this.state.imgInModal;\n    // console.log('IMG in App', img);\n    // console.log('stateIMG', largeImageURL);\n    // console.log('stateTAGS', tags);\n    this.setState({\n      imgInModal: img,\n    });\n    this.togleModal();\n  };\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n    // console.log(this);\n  };\n\n  render() {\n    const { pixData, isLoaded, isTherePix, error } = this.state;\n    const { largeImageURL, tags } = this.state.imgInModal;\n    const shouldRenderLoadMoreButton = pixData.length > 0 && pixData.length > 11 && !isLoaded;\n\n    return (\n      <div className=\"container\">\n        {this.state.showModal && (\n          <Modal onClose={this.togleModal} imgPastToModal={this.imgPastToModal}>\n            {this.state.imgInModal && <img src={largeImageURL} alt={tags} />}\n            <p>{tags}</p>\n            <button type=\"button\" onClick={this.togleModal}>\n              Close\n            </button>\n          </Modal>\n        )}\n        {/* <button type=\"button\" onClick={this.togleModal}>\n          hello\n        </button> */}\n        <Searchbar onSubmit={this.onSubmit} />\n        <ImageGallery searchRequest={pixData} imgPastToModal={this.imgPastToModal} />\n        {error && <h1>Ошибка!!!</h1>}\n        {isTherePix && <h1>Картинок по Вашему запросу не найдено!</h1>}\n        {isLoaded && (\n          <div className={'Spiner'}>\n            <Loader\n              type=\"Circles\"\n              color=\"#00BFFF\"\n              height={100}\n              width={100}\n              timeout={3000} //3 secs Grid\n            />\n          </div>\n        )}\n        {shouldRenderLoadMoreButton && <Button LoadMore={this.fetchPixData} scroll={this.scroll} />}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1zem8\",\"SearchForm\":\"Searchbar_SearchForm__ZnKdc\",\"SearchFormButton\":\"Searchbar_SearchFormButton__lqg20\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__tze4r\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1TwRM\"};"],"sourceRoot":""}